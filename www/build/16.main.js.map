{"version":3,"sources":["../../src/pages/account/account.module.ts","../../src/pages/account/account.ts"],"names":[],"mappings":"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","file":"16.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AccountPage } from './account';\n\n@NgModule({\n  declarations: [\n    AccountPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AccountPage),\n  ],\n  exports: [\n    AccountPage\n  ]\n})\nexport class AccountPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account/account.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { ToastController } from 'ionic-angular';\n\nimport { NavigationService } from '../../providers/navigation-service/navigation-service';\nimport { ItemtypesService } from '../../providers/itemtypes-service/itemtypes-service';\nimport { UserstorageProvider } from '../../providers/userstorage/userstorage';\n\n@IonicPage()\n@Component({\n  selector: 'page-account',\n  templateUrl: 'account.html',\n})\nexport class AccountPage {\n\n  users = 'logIn'\n  accounts = []\n  userName\n  password\n  userRole\n  existing: boolean\n  unExisting: boolean\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public navigationService: NavigationService,\n    public itemtypesService: ItemtypesService,\n    public userstorage : UserstorageProvider,\n    private toastCtrl: ToastController,\n    private viewCtrl: ViewController\n  ) {\n    this.loadAccounts()\n    this.userRole = this.navigationService.getUserRoles()\n  }\n\n  loadAccounts() {\n    this.accounts = this.navigationService.getAccounts()\n  }\n\n  showToast(value) {\n    let toast = this.toastCtrl.create({\n      message: value,\n      duration: 1000\n    });\n    toast.present();\n  }\n\n  ifAccountExist(account) {\n    this.loadAccounts()\n    this.existing = false\n    for (var x = 0; x < this.accounts.length; x++) {\n      if (account.name == this.accounts[x].name) {\n        this.showToast('用户名已被注册')\n        this.existing = true\n      }\n    }\n  }\n\n  onSignUp(value) {\n    if (this.existing == false) {\n      this.itemtypesService.addAccounts(value.name, value.password).subscribe(() => {\n        this.showToast('注册成功')\n        this.existing = true\n        this.loadAccounts()\n      })\n    } else {\n      this.showToast('用户名已被注册')\n    }\n  }\n\n  ifAccountUnExist(account) {\n    this.loadAccounts()\n    this.unExisting = false\n    for (var x = 0; x < this.accounts.length; x++) {\n      if (account.name == this.accounts[x].name)\n      { break }\n      else if (x == this.accounts.length - 1) {\n        this.unExisting = true\n        this.showToast('用户不存在')\n      }\n    }\n  }\n\n  onlogIn(account) {\n    if (this.unExisting == true) {\n      this.showToast('用户不存在')\n    } else if (this.unExisting == false) {\n      for (var x = 0; x < this.accounts.length; x++) {\n        if (account.name == this.accounts[x].name && account.password == this.accounts[x].password) {\n          var user = this.setUser(this.accounts[x])\n          this.userstorage.saveUser(user)\n          this.viewCtrl.dismiss(this.accounts[x].name);\n          break\n        } else if (x == this.accounts.length - 1) {\n          this.showToast('密码错误')\n        }\n      }\n    }\n  }\n\n  setUser(userInfo){\n    return userInfo\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account/account.ts"],"sourceRoot":""}